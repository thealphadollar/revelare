
<!-- Post Layout Start -->

<!DOCTYPE html>
<html lang="en">

  
<!-- HEAD Start -->

<head>
  


  <!-- Force HTTPS Start -->
  <script>
  // Don't force http when serving the website locally
  if (!(window.location.host.startsWith("127.0.0.1")) && (window.location.protocol != "https:"))
    window.location.protocol = "https";
  </script>

  <!-- Force HTTPS End -->



  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Exposing Campus PC On SSH | { Cogito, Ergo Sum }</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Exposing Campus PC On SSH" />
<meta name="author" content="thealphadollar" />
<meta property="og:locale" content="en" />
<meta name="description" content="The default port for SSH is blocked in the campus and it forces one to use a lot of workarounds to do simple SSH tasks; one such task is exposing a PC inside campus network for SSH by a PC outside the campus network." />
<meta property="og:description" content="The default port for SSH is blocked in the campus and it forces one to use a lot of workarounds to do simple SSH tasks; one such task is exposing a PC inside campus network for SSH by a PC outside the campus network." />
<link rel="canonical" href="https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html" />
<meta property="og:url" content="https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html" />
<meta property="og:site_name" content="{ Cogito, Ergo Sum }" />
<meta property="og:image" content="https://thealphadollar.me/img/posts/ssh/ngrok.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-17T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://thealphadollar.me/img/posts/ssh/ngrok.png" />
<meta property="twitter:title" content="Exposing Campus PC On SSH" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"thealphadollar"},"dateModified":"2019-07-17T00:00:00+00:00","datePublished":"2019-07-17T00:00:00+00:00","description":"The default port for SSH is blocked in the campus and it forces one to use a lot of workarounds to do simple SSH tasks; one such task is exposing a PC inside campus network for SSH by a PC outside the campus network.","headline":"Exposing Campus PC On SSH","image":"https://thealphadollar.me/img/posts/ssh/ngrok.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://thealphadollar.me/img/author_logo.png"},"name":"thealphadollar"},"url":"https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="keywords" content="thealphadollar, thealpha$, personal, shivam kumar jha, shivam, thealpha, shivam jha, mercari, iitkgp student">
  <!-- Bootstrap Core Customized CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">

  <!-- Custom CSS -->
  <link href="/css/grayscale.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/rrssb.css" />
  <!-- CSS for responsive video through youtubePlayer.html -->
  <link rel="stylesheet" href="/css/youtubePlayer.css" />
  <!-- CSS for caption -->
  <link rel="stylesheet" href="/css/imageCaption.css" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
  

  

  



  
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


  


  <!-- Syntax highlight in post pages -->

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/monokai_sublime.min.css">




</head>

<!-- HEAD End -->


  <body>

    
<!-- Navigation Start -->

<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
        <i class="fa fa-bars"></i>
      </button>
      
        <a class="navbar-brand" href="/">
      
          <div>
            
              <img src="/img/favicon.ico" alt="" style="margin-top: -5%; vertical-align:top;">
            
            { Cogito, Ergo Sum }
          </div>
        </a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
      <ul class="nav navbar-nav">
        
          <!-- Blog, Post, Tag and Error pages -->
          
            <li>
            
                <a href="/#about"> About </a>
            
            </li>
          
            <li>
            
              
                <a href="/blog/"> Blog </a>
              
            
            </li>
          
            <li>
            
                <a href="/#tags"> Tags </a>
            
            </li>
          
            <li>
            
                <a href="/#connect"> Connect </a>
            
            </li>
          
        
      </ul>
    </div>
  </div>
</nav>

<!-- Navigation End -->


    <section id="post" class="container content-section text-center">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">

          
<!-- Swipe Instructions Start -->

<div id="swipe-instruction">
  <div>
    <p><br><br><br></p>
    <i id="hand-swipe" class="fa fa-hand-o-up"></i>
    <p><strong>
    
      Did you know that you can navigate the posts by swiping left and right?
    
    </strong></p>
    <button type="button" class="btn btn-default ok-btn close-swipe-instruction">
      
        Awesome!
      
    </button>
  </div>
</div>

<!-- Swipe Instructions End -->


          <h1 style="margin-bottom: -.3em; margin-top: -3em; color: #64ffda;"><strong>Exposing Campus PC On SSH</strong></h1>
          <hr style="border-top: 3px dashed #64ffda; margin-bottom: 3em;">
          <h4>
            <strong>17 Jul 2019</strong>
            <small>
              . <strong><span class="reading-time" title="Estimated read time">
  
  
    2 mins
  
</span></strong>:
              <a class="category" href="/categories/tech.html">
                tech
              </a>.
              <a href="/tech/2019/07/17/ssh_from_outside.html#disqus_thread">Comments</a>
              <br />
              
                <a class="tag" href="/tags/fixes.html">#fixes</a>
              
                <a class="tag" href="/tags/kgp.html">#kgp</a>
              
                <a class="tag" href="/tags/iitkgp.html">#iitkgp</a>
              
                <a class="tag" href="/tags/nginx.html">#nginx</a>
              
                <a class="tag" href="/tags/ssh.html">#ssh</a>
              
                <a class="tag" href="/tags/hack.html">#hack</a>
              
            </small>
          </h4>

          <section class="text-justify">
            <p>The default port for SSH is blocked in the campus and it forces one to use a lot of workarounds to do
simple SSH tasks; one such task is exposing a PC inside campus network for SSH by a PC outside the campus
network.</p>

<p>I recently had to do the hardwork and this article shows the steps I used for the same. This will be
 based on Debian (and Ubuntu) users but the steps, more or less remain the same throughout.</p>

<h3 id="install-openssh">Install OpenSSH</h3>

<p><a href="https://help.ubuntu.com/lts/serverguide/openssh-server.html">OpenSSH</a> server allows creating an SSH service
that allows other computers to connect to your PC via SSH. OpenSSH can be setup using the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>openssh-server
</code></pre></div></div>

<p>Once the server is installed, follow the below instructions:</p>

<ol>
  <li>Run <code class="language-plaintext highlighter-rouge">sudo gedit /etc/ssh/sshd_config</code></li>
  <li>Find <code class="language-plaintext highlighter-rouge">port 22</code> and change it to port 443</li>
  <li>Run <code class="language-plaintext highlighter-rouge">sudo systemctl restart ssh</code></li>
  <li>Check that ssh service is now running of port 443 by the command <code class="language-plaintext highlighter-rouge">sudo systemctl status ssh</code></li>
</ol>

<p><img src="https://thealphadollar.me/img/posts/ssh/ssh_status.png" alt="SSH status" /></p>

<p>NOTE: The below command should install openssh client on the PC you are trying to connect from.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>openssh-client
</code></pre></div></div>

<h3 id="create-new-user">Create New User</h3>

<p>It is highly recommended to create a new user for SSHing into your system. The same can be done on Ubuntu
by the following steps:</p>

<ol>
  <li>Search “Users” in the start menu and click “Users and Groups”</li>
  <li>Click Add and create a new user</li>
</ol>

<p><img src="https://thealphadollar.me/img/posts/ssh/users.png" alt="User And Groups Window" /></p>

<p>We will be using “testname” as username and “testpass” as password for further purpose.</p>

<h3 id="install-ngrok">Install ngrok</h3>

<p>We will be using ngrok to expose port 443 so that it can be connected from outside. This is required
since we are behind a proxy and hence there is no public IP address for each PC but a common public IP. The
below commands install and expose port.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
unzip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
./ngrok tcp 443 <span class="nt">--authtoken</span> <span class="o">[</span>AuthToken]
</code></pre></div></div>

<p>NOTE: AuthToken can be generated by signing up for a free account on ngrok. More information is present 
<a href="https://ngrok.com/docs#getting-started-authtoken">here</a>.</p>

<p>Once the above command is run, you’ll see a screen like below.</p>

<p><img src="https://thealphadollar.me/img/posts/ssh/ngrok.png" alt="ngrok" /></p>

<p><code class="language-plaintext highlighter-rouge">tcp://0.tcp.ngrok.io:16960</code> is your public IP address.</p>

<h3 id="sshing-from-client">SSHing From Client</h3>

<p>Now, on the client PC do the following.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh testuser@tcp://0.tcp.ngrok.io:16960 <span class="nt">-p</span> 443
</code></pre></div></div>

<p>You’ll be prompted for the password and voila! You are into your PC inside the campus network.</p>


          </section>

          
<!-- Share Buttons Start -->
<div>
  <ul class="rrssb-buttons clearfix">
    
    
      <li class="rrssb-facebook">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html&title=Exposing Campus PC On SSH" class="popup">
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" width="29" height="29" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"
              class="cls-2" fill-rule="evenodd"/></svg>
          </span>
          <span class="rrssb-text">facebook</span>
        </a>
      </li>
    
    
      <li class="rrssb-twitter">
        <a href="https://twitter.com/share?url=https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html&text=Exposing Campus PC On SSH"
        class="popup">
          <span class="rrssb-icon"><svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62c-3.122.162-6.22-.646-8.86-2.32 2.702.18 5.375-.648 7.507-2.32-2.072-.248-3.818-1.662-4.49-3.64.802.13 1.62.077 2.4-.154-2.482-.466-4.312-2.586-4.412-5.11.688.276 1.426.408 2.168.387-2.135-1.65-2.73-4.62-1.394-6.965C5.574 7.816 9.54 9.84 13.802 10.07c-.842-2.738.694-5.64 3.434-6.48 2.018-.624 4.212.043 5.546 1.682 1.186-.213 2.318-.662 3.33-1.317-.386 1.256-1.248 2.312-2.4 2.942 1.048-.106 2.07-.394 3.02-.85-.458 1.182-1.343 2.15-2.48 2.71z"/></svg></span>
          <span class="rrssb-text">twitter</span>
        </a>
      </li>
    
    
      <li class="rrssb-linkedin">
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html" class="popup">
        <span class="rrssb-icon">
          <svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
            <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"
            />
          </svg>
        </span>
        <span class="rrssb-text">linkedin</span>
      </a>
      </li>
    
    
    
    
    
    
    
  </ul>
</div>

<!-- Share Buttons End -->


          
            
<!-- Disqus Comments Start -->


  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<!-- Disqus Comments End -->

          


          <hr />

          
          <div class="author row">
            <img class="col-xs-4 col-sm-3 col-md-2" src="/img/author.png" alt="Me" />
            <p class="col-xs-8 col-sm-9 col-md-10">
              I'm intrigued by human psychology and code backend for videogames. I live with a philosophy to be simple, true, and kind always. I enjoy taking days slowly and writing when I learn something new - ah! that reminds me, I enjoy learning from new experiences a lot.
            </p>
          </div>
          
        </div>
      </div>
    </section>

    <!-- Footer Start -->

<footer>

    <!-- Social Buttons Start -->

<ul class="list-inline social-buttons">
    
    <li><a href="https://facebook.com/thealphadollar" target="_blank"><i class="fa fa-facebook fa-fw"></i></a></li>
    
    <li><a href="https://github.com/thealphadollar" target="_blank"><i class="fa fa-github fa-fw"></i></a></li>
    
    <li><a href="https://www.linkedin.com/in/thealphadollar" target="_blank"><i class="fa fa-linkedin fa-fw"></i></a></li>
    
    
</ul>

<!-- Social Buttons End -->


    <p><br><br></p>

    <div class="container text-center">
        <p>Copyright &copy; thealphadollar 2023</p>
        
    </div>
</footer>

<p><br><br><br><br><br><br></p>

<!-- Footer End -->


    
<!-- Javascript Start -->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 56,
  backgroundColor: 'rgb(0,205,255)',
  textColor: '#000'
})</script>

<!-- Custom Theme JavaScript -->
<!--* Start Bootstrap - Grayscale Bootstrap Theme (http://startbootstrap.com)
* Code licensed under the Apache License v2.0.
* For details, see http://www.apache.org/licenses/LICENSE-2.0.-->
<script>
function toggleNavCollapse(){50<$(".navbar").offset().top?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse");}
$(document).ready(toggleNavCollapse);
$(window).scroll(toggleNavCollapse);$(function(){$("a.page-scroll").bind("click",function(b){var a=$(this);$("html, body").stop().animate({scrollTop:$(a.attr("href")).offset().top-50},1500,"easeInOutExpo",function(){a.blur()});b.preventDefault()})});$(".navbar-collapse ul li a").click(function(){$(".navbar-toggle:visible").click()});
</script>





  <!-- Syntax highlight in post pages-->

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>




  

  <!-- Google Tracking Id Start -->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-121294295-1', 'auto');
    ga('send', 'pageview');
  </script>

  <!-- Google Tracking Id End -->

  




  <!-- Disqus -->

  

    <script type="text/javascript">
    var disqus_shortname = 'https-thealphathealphadollardollar-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>

  

  

    <!-- Comments Counter Start -->

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'https-thealphathealphadollardollar-github-io'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>

    <!-- Comments Counter End -->

  





  <!-- Share buttons Start -->

  <script src="/js/rrssb.min.js"></script>

  <!-- Share buttons End -->





<script>
function addTohistory() {
  if (!window.location.host.startsWith("127.0.0.1")) {
    history.pushState({}, 'Exposing Campus PC On SSH', 'https://thealphadollar.me/tech/2019/07/17/ssh_from_outside.html');
  }
}
</script>

<!-- Gesture Navigation / Swipe Instruction Start -->


<!-- Javascript End -->


  </body>
</html>

<!-- Post Layout End -->
